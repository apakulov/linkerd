<!DOCTYPE html>
<!-- Template for rendering markdown files as html -->
<html>
<title>linkerd documentation</title>

<a href="/files/docs/index.html">Back to docs index</a>
<xmp style="display:none;">
This guide will walk you through the steps necessary to download and run
linkerd locally, on your own computer.

# Requirements

In order to run linkerd, you must have Java 8 installed. You can confirm your
Java version by running:
```bash
$ java -version
java version "1.8.0_66"
```

linkerd works with both Oracle and OpenJDK. If you need to install Java 8, you
can download either one.

{{% button "Download Oracle Java 8" "http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" %}}
{{% button "Download OpenJDK 8" "http://openjdk.java.net/install/" %}}

# Downloading and installing

Download the latest binary release of linkerd from [the downloads page](https://github.com/BuoyantIO/releases/releases).

Once you've downloaded the release, extract it:
```bash
    $ tar -xzf linkerd-x.x.x.tgz
    $ cd linkerd-x.x.x
```

The release will contain these files:

* `config/linkerd.yaml`---config file defining routers, servers, protocols, and ports
* `disco/`---file-based service discovery config
* `docs/`---documentation
* `lib/`---libraries
* `logs/`---default location where linkerd logs are written
* `linkerd`---script for starting and stopping linkerd

# Running linkerd

Once you have extracted the release, you can start and stop linkerd by using
the `linkerd` script.

To start linkerd, run:
```bash
    $ ./linkerd start
```
To stop linkerd, run:
```bash
    $ ./linkerd stop
```
# Making sure it works

You can validate that linkerd works by sending some HTTP traffic through it.
Out of the box, linkerd is configured to listen on port 4140, and to route any
HTTP calls with a `Host` header set to "web" to a service listening on port
9999.

You can test this by running a simple service on port 9999:
```bash
    $ while true; do echo -e 'HTTP/1.1 200 OK\n\nIt works!' | nc -l 9999; done
```
Then send traffic through linkerd with the appropriate host header:
```bash
    $ curl -H "Host: web" http://localhost:4140/
    It works!
```
Note that if you don't provide a Host header that matches the name of one of
the routable services, linkerd will fail the request:
```bash
    $ curl -I -H "Host: foo" http://localhost:4140/
    HTTP/1.1 502 Bad Gateway
```
# Finding services

Under the configuration shipped with linkerd, the first place it looks when it
needs to resolve a service endpoints is the `disco/` directory.
(See the user guide for more on how this simple [file-based service
discovery]({{% luserguide "file-based-service-discovery" %}}) system works.)
With this configuration, linkerd looks for files with names corresponding to
the _concrete name_ of a destination, and it expects these files to contain
a newline-delimited list of addresses in `host port` form.

The default configuration looks like this:
```bash
    $ head disco/*
    ==> disco/thrift-buffered <==
    127.0.0.1 9997

    ==> disco/thrift-framed <==
    127.0.0.1 9998

    ==> disco/web <==
    127.0.0.1 9999
```
As you can see, there is a destination called "web" that is backed by a single
address, `127.0.0.1 9999`, as well as a thrift framed destination that is backed
by `127.0.0.1 9998`, and a thrift buffered destination that is backed by
`127.0.0.1 9997`. Note that, just as it does with all service discovery
endpoints, linkerd monitors this directory for changes, so feel free to add,
remove, and edit files at any point---no restarting required.

For simplicity, the default routing configuration shipped with linkerd routes
directly to these concrete names. In other words, asking linkerd for the "web"
service will result in it connecting to one of the endpoints in the `disco/web`
file. Of course, in the general case, this mapping can be quite
sophisticated---see the User Guide for more on [linkerd's routing
capabilities]({{% luserguide "routing" %}}).

# Administration

linkerd runs an administrative web interface on port 9990. If you have linkerd
running locally, simply visit http://localhost:9990/ to view it.

The administrative web interface allows you to view linkerd's current operating
status, and to modify certain runtime configuration parameters.

# Metrics

linkerd publishes machine-readable metrics. These metrics are designed to be
polled by external metrics-collection utilities such as
[statsd](https://github.com/etsy/statsd).

If you have linkerd running locally, simply visit
http://localhost:9990/admin/metrics.json to view them.

# Next steps

Now that you have linkerd running, feel free to read through the [User
Guide]({{% luserguide "" %}}) for a comprehensive guide to linkerd's
many features and capabilities.

</xmp>

<script src="/files/js/lib/strapdown/strapdown.js"></script>
</html>